{{#if deviceCount}}
    <span id="permission" data-permission="{{permissions}}"></span>
    <div class="container-fluid">
        <span id="device-listing-status-msg"></span>
        <table class="table table-striped table-hover list-table display responsive nowrap data-table table-selectable grid-view"
               id="device-grid">
            <thead>
            <tr class="sort-row">
                <th class="no-sort"></th>
                <th>By Device Model and Vendor</th>
                <th>By Owner</th>
                <th>By Status</th>
                <th>By Platform</th>
                <th>By Ownership</th>
                <th class="no-sort"></th>
            </tr>
            <tr class="filter-row filter-box">
                <th></th>
                <th data-for="By Device Model and Vendor" class="text-filter"></th>
                <th data-for="By Owner" class="text-filter"></th>
                <th data-for="By Status" class="select-filter"></th>
                <th data-for="By Platform" class="select-filter data-platform"></th>
                <th data-for="By Ownership" class="select-filter"></th>
                <th></th>
            </tr>
            </thead>

            <tbody id="ast-container"></tbody>
        </table>

    </div>
    <div id="content-filter-types" style="display: none">
        <div class="sort-title">Sort By</div>
        <div class="sort-options">
            <a href="#">By Device Model and Vendor<span class="ico-sort-asc"></span></a>
            <a href="#">By Owner</a>
            <a href="#">By Status</a>
            <a href="#">By Platform</a>
            <a href="#">By Ownership</a>
        </div>
    </div>
{{else}}
    <div id="ast-container" class="ast-container list-view">
        <div class="ctrl-info-panel col-centered text-center wr-login">
            <h2>You don't have any device
                {{#if groupId}}
                assigned to this group
                {{else}}
                registered
                {{/if}}
                at the moment.</h2>
            <br/>

            <p class="text-center">
                {{#if groupId}}
                    <a href="{{@app.context}}/devices" class="wr-btn">
                    <span class="fw-stack">
                        <i class="fw fw-ring fw-stack-2x"></i>
                        <i class="fw fw-add fw-stack-1x"></i>
                    </span>
                        Assign from My Devices
                    </a>
                {{else}}
                    <a href="{{@app.context}}/device/enroll" class="wr-btn">
                    <span class="fw-stack">
                        <i class="fw fw-ring fw-stack-2x"></i>
                        <i class="fw fw-add fw-stack-1x"></i>
                    </span>
                        Enroll New Device
                    </a>
                {{/if}}
            </p>
        </div>
    </div>
{{/if}}

<div id="group-device-modal-content" class="hide">
    <div class="modal-content">
        <div class="row">
            <div class="col-md-3 col-centered">
                <h3>Please select group</h3>
                <div id="user-groups">Loading...</div>
                <div class="buttons">
                    <a href="#" id="group-device-yes-link" class="btn-operations">
                        &nbsp;&nbsp;&nbsp;&nbsp;Assign&nbsp;&nbsp;&nbsp;&nbsp;
                    </a>
                    &nbsp;&nbsp;
                    <a href="#" id="group-device-cancel-link" class="btn-operations">
                        &nbsp;&nbsp;&nbsp;&nbsp;Cancel&nbsp;&nbsp;&nbsp;&nbsp;
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="group-associate-device-200-content" class="hide">
    <div class="modal-content">
        <div class="row">
            <div class="col-md-3 col-centered">
                <h3>Device was successfully associated with group.</h3>
            </div>
        </div>
    </div>
</div>

<div id="group-deassociate-device-200-content" class="hide">
    <div class="modal-content">
        <div class="row">
            <div class="col-md-3 col-centered">
                <h3>Device was successfully removed from group.</h3>
            </div>
        </div>
    </div>
</div>

<div id="remove-device-modal-content" class="hide">
    <div class="content">
        <div class="row">
            <div class="col-lg-5 col-md-6 col-centered">
                <h3>Do you really want to remove this device from your Devices List?</h3>

                <div class="buttons">
                    <a href="#" id="remove-device-yes-link" class="btn-operations">
                        &nbsp;&nbsp;&nbsp;&nbsp;Yes&nbsp;&nbsp;&nbsp;&nbsp;
                    </a>
                    &nbsp;&nbsp;
                    <a href="#" id="remove-device-cancel-link" class="btn-operations">
                        &nbsp;&nbsp;&nbsp;&nbsp;Cancel&nbsp;&nbsp;&nbsp;&nbsp;
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="remove-device-200-content" class="hide">
    <div class="content">
        <div class="row">
            <div class="col-lg-5 col-md-6 col-centered">
                <h3>Device was successfully removed.</h3>
            </div>
        </div>
    </div>
</div>

<div id="edit-device-modal-content" class="hide">
    <div class="content">
        <div class="row">
            <div class="col-lg-5 col-md-6 col-centered">
                <h3>Please enter new name for the device?</h3>
                <br/>

                <div>
                    <input id="edit-device-name" style="color:#3f3f3f;padding:5px" type="text"
                           value=""
                           placeholder="Type here" size="60">
                </div>
                <div class="buttons">
                    <a href="#" id="edit-device-yes-link" class="btn-operations">
                        &nbsp;&nbsp;&nbsp;&nbsp;Rename&nbsp;&nbsp;&nbsp;&nbsp;
                    </a>
                    &nbsp;&nbsp;
                    <a href="#" id="edit-device-cancel-link" class="btn-operations">
                        &nbsp;&nbsp;&nbsp;&nbsp;Cancel&nbsp;&nbsp;&nbsp;&nbsp;
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="edit-device-200-content" class="hide">
    <div class="content">
        <div class="row">
            <div class="col-lg-5 col-md-6 col-centered">
                <h3>Device was successfully updated.</h3>
            </div>
        </div>
    </div>
</div>

<div id="device-400-content" class="hide">
    <div class="modal-content">
        <div class="row">
            <div class="col-md-7 col-centered center-container">
                <h3>Exception at backend. Try Later.</h3>
                <br/>
                <div class="buttons">
                    <a href="#" id="device-400-link" class="btn-operations">
                        &nbsp;&nbsp;&nbsp;&nbsp;Ok&nbsp;&nbsp;&nbsp;&nbsp;
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="device-403-content" class="hide">
    <div class="modal-content">
        <div class="row">
            <div class="col-md-7 col-centered center-container">
                <h3>Operation not permitted.</h3>
                <br/>
                <div class="buttons">
                    <a href="#" id="device-403-link" class="btn-operations">
                        &nbsp;&nbsp;&nbsp;&nbsp;Ok&nbsp;&nbsp;&nbsp;&nbsp;
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="device-409-content" class="hide">
    <div class="modal-content">
        <div class="row">
            <div class="col-md-7 col-centered center-container">
                <h3>Device does not exist.</h3>
                <br/>
                <div class="buttons">
                    <a href="#" id="remove-device-409-link" class="btn-operations">
                        &nbsp;&nbsp;&nbsp;&nbsp;Ok&nbsp;&nbsp;&nbsp;&nbsp;
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

{{#zone "bottomJs"}}
    <script id="device-listing" data-current-user="{{currentUser.username}}"
            data-image-resource="{{@app.context}}/public/cdmf.unit.device.type."
            src="{{@unit.publicUri}}/templates/listing.hbs"
            type="text/x-handlebars-template"></script>
    {{js "js/listing.js"}}
{{/zone}}